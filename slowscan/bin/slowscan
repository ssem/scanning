#!/usr/bin/env python
import argparse
from slowscan.main import Main

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="scan a set of ranges")
    parser.add_argument("ranges_dir", help="directory of ranges")
    parser.add_argument("port_file", help="file of ports numbers")
    parser.add_argument("outfile", help="output file")
    parser.add_argument("--rate", default=100,
        help="ips to scan per second (DEFAULT: 100)")
    args = parser.parse_args()
    main = Main()
    main.run(args.ranges_dir, args.port_file, int(args.rate), args.outfile)
